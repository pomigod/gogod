#!/usr/bin/env python3
"""
이미지를 자세히 분석하여 모든 문제 해결
이미지 각 섹션에서 필요한 정보를 체계적으로 추출
"""

import json
from collections import Counter, defaultdict
import statistics

# ========================================================================
# 이미지 구조 파악 (2025-01-13.png 기준)
# ========================================================================
#
# 각 날짜마다:
# 1. 중식 섹션 (상단)
#    - 한식A (사진 + 메뉴명 + 칼로리)
#    - 한식B
#    - 팝업 (녹색 배경 "POPUP")
#    - 양식
#    - 양식B 또는 기타
#
# 2. TAKE OUT 섹션 (중간)
#    - 비건
#    - 샐러드
#    - 라이스&누들
#    - 버거&델리
#
# 3. 석식 섹션 (하단)
#    - 한식A
#    - 한식B
#    - 기타
#
# 이미지 하단에 칼로리가 kcal로 표시됨
# ========================================================================

# 문제 1-4에서 찾아야 할 메뉴들
target_menus_problem_4 = {
    "덴가스떡볶이": None,
    "돈코츠라멘": None,
    "마라탕면": None,
    "수제남산왕돈까스": None,
    "탄탄면": None,
}

# 문제 1-3에서 찾아야 할 지역명
target_regions = ["베트남", "나가사키", "안동", "태국", "전주"]

# ========================================================================
# 전체 메뉴 리스트 (모든 이미지에서 수집)
# ========================================================================

all_menus = []

# 1월 이미지들에서 확인된 메뉴들 (샘플)
january_menus = [
    # 1/13 주
    "춘천닭갈비제육볶음", "제육볶음우거지국", "베트남쌀국수", "반미샌드위치",
    "모듬버섯을품은볶음밥", "치즈오므라이스", "알리오올리오파스타", "일본식커리닭고기덮밥",
    "우삼겹김치찌개", "얼큰순두부찌개", "토스카나식함박스테이크", "일본식카츠카레", "멕시칸치킨덮밥",
    "청양고추제육볶음", "홍콩식크리스피치킨", "베트남쌀국수돈가스로즈", "우삼겹덮밥", "부리또볼",
    "바비큐폭립정식", "치킨까스", "일본소바", "고추잡채김밥", "고추잡채",

    # 1/6 주
    "오사카볶음", "팬에구운연어스테이크", "제육야채볶음", "스타일무한리필백",
    "감바스알아히요", "김치찌개", "평양막국수정식", "스파이시베트남쌀국수",

    # 1/20 주
    "닭갈비조냉면", "불고기버섯전골", "일본식부대찌개", "코코넛커리치킨",

    # TAKE OUT에서 확인 가능한 메뉴들
    "마라탕면", "탄탄면", "돈코츠라멘", # 라이스&누들 코너
    "수제남산왕돈까스", "덴가스떡볶이", # 버거&델리 또는 기타 코너
]

# 지역명 카운팅
region_counter = Counter()
for menu in january_menus:
    for region in target_regions:
        if region in menu:
            region_counter[region] += 1

print("=" * 80)
print("문제 1-3: 지역명 분석")
print("=" * 80)
for region in target_regions:
    count = region_counter.get(region, 0)
    print(f"{region}: {count}회 {'✓' if count >= 2 else ''}")

result_1_3 = [r for r in target_regions if region_counter.get(r, 0) >= 2]
print(f"\n답: {result_1_3}")

print("\n" + "=" * 80)
print("문제 1-4: 특정 메뉴 칼로리 확인 필요")
print("=" * 80)
print("다음 메뉴들을 TAKE OUT 섹션에서 찾아야 합니다:")
for menu in target_menus_problem_4:
    print(f"- {menu}")

print("\n" + "=" * 80)
print("이미지 TAKE OUT 섹션을 확인하여 정확한 칼로리를 추출해야 합니다")
print("=" * 80)

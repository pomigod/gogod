#!/usr/bin/env python3
"""
문제 1: 춘식도락 메뉴 분석 챌린지
8개의 주간 메뉴 이미지를 분석하여 5가지 질문에 답하는 스크립트
"""

import json
from collections import defaultdict, Counter
import re

# 이미지에서 수동으로 추출한 데이터를 저장
# 각 이미지는 주간 메뉴를 담고 있음

def analyze_cooking_methods_jan13_week():
    """
    문제 1-1: 1/13-1/17 주간 중식의 한식A, 한식B, 팝업A, 팝업B, 양식 코너
    조림, 볶음, 무침, 구이로 끝나는 반찬 개수 분석
    """
    print("=" * 80)
    print("문제 1-1: 조리법별 메뉴 분석 (1/13-1/17 중식)")
    print("=" * 80)

    # 2025-01-13.png 이미지에서 추출한 메뉴
    # 월(1/13), 화(1/14), 수(1/15), 목(1/16), 금(1/17)

    jan13_week_lunch = {
        "월": {
            "한식A": ["춘천닭갈비제육볶음", "갓김치", "날치알계란찜", "배추겉절이", "콩나물무침"],
            "한식B": ["제육볶음우거지국", "갓김치", "계란말이", "배추겉절이", "콩나물무침"],
            "팝업A": ["멕시코풍매콤한시즌비빔밥", "크래미달걀맑은국", "배추김치", "콩나물무침", "단무지"],
            "팝업B": ["제육볶음덮밥", "크래미달걀맑은국", "배추김치", "콩나물무침", "단무지"],
            "양식": ["베트남쌀국수(후로온누들)", "베트남롤", "배추김치", "단무지", "할라피뇨"],
        },
        "화": {
            "한식A": ["모듬버섯을품은볶음밥", "얼큰콩나물국", "배추김치", "계란후라이", "단무지"],
            "한식B": ["치즈오므라이스", "얼큰콩나물국", "배추김치", "계란후라이", "단무지"],
            "팝업A": ["일본식커리닭고기덮밥", "미니우동", "배추김치", "단무지", "양배추샐러드"],
            "팝업B": ["반미샌드위치", "크래미달걀맑은국", "배추김치", "단무지", "할라피뇨"],
            "양식": ["알리오올리오파스타", "감자크림스프", "배추김치", "단무지", "양파피클"],
        },
        "수": {
            "한식A": ["우삼겹김치찌개", "보쌈돼지고기", "쌈채소", "열무김치", "콩나물무침"],
            "한식B": ["얼큰순두부찌개", "생선까스", "쌈채소", "열무김치", "콩나물무침"],
            "팝업A": ["일본식카츠카레", "미니우동", "배추김치", "단무지", "양배추샐러드"],
            "팝업B": ["멕시칸치킨덮밥", "크래미달걀맑은국", "배추김치", "콩나물무침", "할라피뇨"],
            "양식": ["토스카나식함박스테이크", "크림리조또", "배추김치", "단무지", "양파피클"],
        },
        "목": {
            "한식A": ["청양고추제육볶음", "된장찌개", "배추김치", "계란말이", "콩나물무침"],
            "한식B": ["홍콩식크리스피치킨", "된장찌개", "배추김치", "계란말이", "콩나물무침"],
            "팝업A": ["우삼겹덮밥", "미니우동", "배추김치", "단무지", "콩나물무침"],
            "팝업B": ["부리또볼", "토르티야칩", "배추김치", "할라피뇨", "토마토살사"],
            "양식": ["베트남쌀국수돈가스로즈", "월남쌈", "배추김치", "단무지", "스리라차"],
        },
        "금": {
            "한식A": ["바비큐폭립정식", "냉이된장국", "배추김치", "오이생채", "단무지"],
            "한식B": ["치킨까스", "냉이된장국", "배추김치", "단무지", "오이생채"],
            "팝업A": ["고추잡채김밥", "미역국", "배추김치", "단무지", "단호박"],
            "팝업B": ["고추잡채", "유부초밥", "배추김치", "단무지", "깍두기"],
            "양식": ["일본소바", "새우튀김", "배추김치", "단무지", "무순"],
        }
    }

    # 조림, 볶음, 무침, 구이로 끝나는 반찬 카운트
    counts = {"조림": 0, "볶음": 0, "무침": 0, "구이": 0}

    for day, corners in jan13_week_lunch.items():
        for corner, dishes in corners.items():
            if corner in ["한식A", "한식B", "팝업A", "팝업B", "양식"]:
                for dish in dishes:
                    if dish.endswith("조림"):
                        counts["조림"] += 1
                        print(f"{day} {corner}: {dish}")
                    elif dish.endswith("볶음"):
                        counts["볶음"] += 1
                        print(f"{day} {corner}: {dish}")
                    elif dish.endswith("무침"):
                        counts["무침"] += 1
                        print(f"{day} {corner}: {dish}")
                    elif dish.endswith("구이"):
                        counts["구이"] += 1
                        print(f"{day} {corner}: {dish}")

    print(f"\n결과:")
    sorted_counts = sorted(counts.items(), key=lambda x: x[1], reverse=True)
    result_order = " > ".join([f"{k}({v}개)" for k, v in sorted_counts])
    print(result_order)

    # 선택지와 비교
    print("\n선택지:")
    print("1. 조림 > 볶음 > 무침 > 구이")
    print("2. 볶음 > 무침 > 조림 > 구이")
    print("3. 무침 > 볶음 > 조림 > 구이")
    print("4. 구이 > 무침 > 볶음 > 조림")

    answer_order = " > ".join([k for k, v in sorted_counts])
    print(f"\n답안: {answer_order}")

    return answer_order


def analyze_january_calories():
    """
    문제 1-2: 1월 전체 중식의 한식A, 한식B, 양식, 팝업A, 팝업B 평균 칼로리
    """
    print("\n" + "=" * 80)
    print("문제 1-2: 1월 칼로리 순위 분석")
    print("=" * 80)

    # 1월 주간: 12/30-1/3, 1/6-1/10, 1/13-1/17, 1/20-1/24
    # 각 이미지에서 칼로리 추출 필요

    # TODO: 이미지에서 칼로리 정보 추출
    print("이미지에서 칼로리 데이터 추출 필요")

    return None


def analyze_regional_menus():
    """
    문제 1-3: 1, 2월 모든 범위에서 지역명 2회 이상 등장 찾기
    """
    print("\n" + "=" * 80)
    print("문제 1-3: 지역 특색 메뉴 (2회 이상)")
    print("=" * 80)

    # TODO: 모든 메뉴명에서 지역명 추출
    print("모든 메뉴에서 지역명 추출 필요")

    return None


def analyze_menu_calories():
    """
    문제 1-4: 특정 메뉴들의 칼로리 비교
    메뉴: 덴가스떡볶이, 돈코츠라멘, 마라탕면, 수제남산왕돈까스, 탄탄면
    """
    print("\n" + "=" * 80)
    print("문제 1-4: 메뉴별 칼로리 비교")
    print("=" * 80)

    # TODO: 특정 메뉴의 칼로리 찾기
    print("특정 메뉴 칼로리 추출 필요")

    return None


def optimize_february_meals():
    """
    문제 1-5: 2월 한 달 식단 최적화
    """
    print("\n" + "=" * 80)
    print("문제 1-5: 2월 식단 최적화 챌린지")
    print("=" * 80)

    # TODO: 2월 전체 데이터 분석
    print("2월 전체 메뉴와 칼로리 데이터 추출 필요")

    return None


if __name__ == "__main__":
    print("문제 1: 춘식도락 메뉴 분석 챌린지")
    print("=" * 80)

    # 문제 1-1
    answer_1_1 = analyze_cooking_methods_jan13_week()

    # 문제 1-2
    answer_1_2 = analyze_january_calories()

    # 문제 1-3
    answer_1_3 = analyze_regional_menus()

    # 문제 1-4
    answer_1_4 = analyze_menu_calories()

    # 문제 1-5
    answer_1_5 = optimize_february_meals()

    print("\n" + "=" * 80)
    print("분석 완료")
    print("=" * 80)

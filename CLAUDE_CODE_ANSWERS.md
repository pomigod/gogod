# AI_TOP_100 문제 풀이 결과

## 문제 4: 전투 없이 예측하는 시뮬레이션의 힘

### 개요
- 전투 시뮬레이션 게임의 밸런스 분석 문제
- 유닛의 초기 배치 정보(type, x, y)만으로 승패 예측
- 총 29,000개의 훈련 데이터를 분석하여 패턴 파악

### 데이터셋
- **train_battles.json**: 29,000개의 전투 기록 (승자 포함)
- **test_battles.json**: 500개의 테스트 전투 (승자 예측 필요)
- **유닛 타입**: aleo, bras, cbene, dgreg, eyanoo (총 5종)

---

### 문제 4-1: 1v1 최강자는?

**질문**: 1대1 전투에서 가장 높은 승률을 자랑하는 유닛 타입은?

**분석 결과**:
- 총 250개의 1v1 전투 분석
- 각 유닛의 1v1 승률:
  - aleo: 57/109 = 52.29%
  - bras: 50/108 = 46.30%
  - cbene: 52/87 = 59.77%
  - **dgreg: 81/107 = 75.70%** ✓
  - eyanoo: 10/89 = 11.24%

**답**: **dgreg**

---

### 문제 4-2: 배치 효과

**질문**: 전투의 전방에 배치되었을 때와 후방에 배치되었을 때 승률 차이가 가장 많이 나는 유닛은?

**분석 방법**:
- 각 팀의 평균 x 좌표를 기준으로 전방/후방 구분
- Blue 팀: 평균보다 x가 크면 전방 (적에게 가까움)
- Red 팀: 평균보다 x가 작으면 전방 (적에게 가까움)

**분석 결과**:
- aleo: 전방 54.79% vs 후방 44.32%, 차이: 10.46%
- bras: 전방 50.44% vs 후방 48.61%, 차이: 1.83%
- cbene: 전방 48.67% vs 후방 57.54%, 차이: 8.87%
- dgreg: 전방 57.84% vs 후방 43.19%, 차이: 14.66%
- **eyanoo: 전방 31.65% vs 후방 59.63%, 차이: 27.98%** ✓

**답**: **eyanoo**

**특이사항**: eyanoo는 후방에 배치될 때 승률이 훨씬 높음 (서포트/원거리 유닛으로 추정)

---

### 문제 4-3: 진형 우세 예측

**질문**: 유닛들이 가로로 넓게 퍼진 진형(x축 방향)과 세로로 길게 늘어선 진형(y축 방향) 중 어느 쪽이 더 높은 승률을 보이나?

**분석 방법**:
- 각 팀의 유닛 좌표에서 x 범위와 y 범위 계산
- x_range > y_range: x방향으로 긴 진형
- y_range > x_range: y방향으로 긴 진형

**분석 결과**:
- **X-formation (가로로 넓음)**: 2,297승 / 4,043전 = 56.81% ✓
- Y-formation (세로로 긴): 25,299승 / 51,435전 = 49.19%

**답**: **x 방향으로 긴 진형**

---

### 문제 4-4: 상성 관계

**질문**: 상성 관계에 대한 설명으로 옳지 않은 것을 고르세요. (복수 선택)

**1v1 상성 분석 결과**:
- ✓ cbene > aleo: 승률 78.57% (22/28승)
- ✗ eyanoo > dgreg: 승률 0.00% (0/29승) - **옳지 않음**
- ✓ dgreg > aleo: 승률 100.00% (30/30승)
- ✗ bras > cbene: 승률 0.00% (0/26승) - **옳지 않음**
- ✓ aleo > eyanoo: 승률 100.00% (22/22승)
- ✗ eyanoo > bras: 승률 11.11% (3/27승) - **옳지 않음**
- ✓ bras > dgreg: 승률 100.00% (26/26승)
- ✗ cbene > eyanoo: 승률 36.36% (4/11승) - **옳지 않음**
- ✓ aleo > bras: 승률 100.00% (29/29승)
- ✓ dgreg > cbene: 승률 100.00% (22/22승)

**상성 관계 정리**:
- dgreg > cbene > aleo > eyanoo
- bras > dgreg
- aleo > bras

**답**:
- **eyanoo > dgreg**
- **bras > cbene**
- **eyanoo > bras**
- **cbene > eyanoo**

---

### 문제 4-5: 데이터 내용 확인

**질문**: train_battles.json에서 확인할 수 있는 내용으로 올바르지 않은 것은? (복수 선택)

**검증 결과**:

1. **"팀의 중심이 좌표의 중심(10.5, 10.5)에 가까울수록 승률이 높다"**
   - 중심에 가까운 경우: 49.07% 승률
   - 중심에서 먼 경우: 50.70% 승률
   - → **올바르지 않음** ✗

2. **"같은 팀 유닛 간 거리가 가까울수록 승률이 높아지는 경향을 보인다"**
   - 유닛 간 거리 가까운 경우: 57.41% 승률
   - 유닛 간 거리 먼 경우: 41.86% 승률
   - → 올바름 ✓

3. **"dgreg는 전방에 위치할 때가 후방에 위치할 때보다 승률이 높다"**
   - dgreg 전방: 57.84% 승률
   - dgreg 후방: 43.87% 승률
   - → 올바름 ✓

4. **"4대4 전투에서, aleo+bras+dgreg+eyanoo 조합의 승률은 60% 이상이다"**
   - aleo+bras+dgreg+eyanoo 조합: 1,739승 / 5,279전 = 32.94%
   - → **올바르지 않음** ✗

5. **"2대2 전투에서 aleo+dgreg 조합은 bras+eyanoo 조합에게 26전 25승을 기록했다"**
   - 실제 결과: 26전 25승
   - → 올바름 ✓

**답**:
- **팀의 중심이 좌표의 중심(10.5, 10.5)에 가까울수록 승률이 높다**
- **4대4 전투에서, aleo+bras+dgreg+eyanoo 조합의 승률은 60% 이상이다**

---

### 문제 4-6: 전투 결과 최종 예측

**질문**: test_battles.json 데이터셋의 모든 전투에 대한 승자를 예측하여 제출

**예측 모델 전략**:
1. **1v1 매치업 기반 예측**:
   - 훈련 데이터에서 각 유닛 조합의 승률 계산
   - 승률이 50% 이상이면 해당 팀 승리 예측

2. **유닛 파워 계산**:
   - 각 유닛의 전체 승률을 기반으로 파워 점수 산정
   - 팀의 총 파워 = 각 유닛 파워의 합

3. **위치 보너스**:
   - 공격적인 위치(적 진영에 가까운)에 있는 팀에 5% 보너스

4. **종합 판단**:
   - 1v1인 경우: 매치업 승률 우선
   - 다대다인 경우: 팀 파워 + 위치 보너스로 판단

**예측 결과**:
- 총 500개 테스트 전투 예측 완료
- Blue 승리 예측: 206건 (41.2%)
- Red 승리 예측: 294건 (58.8%)
- 결과 파일: `battle_predictions.json`

**예측 파일 형식**:
```json
[
  {
    "battle_id": "test_001",
    "winner": "blue"
  },
  {
    "battle_id": "test_002",
    "winner": "blue"
  },
  ...
]
```

**답**: battle_predictions.json 파일 참조

---

## 분석 스크립트

문제 해결에 사용된 주요 스크립트:
1. `analyze_battles_v2.py`: 문제 4-1 ~ 4-4 분석
2. `analyze_problem_4_5.py`: 문제 4-5 데이터 검증
3. `predict_battles.py`: 문제 4-6 승자 예측 모델

---

## 주요 인사이트

1. **유닛 강도 순위** (1v1 기준):
   - dgreg (75.7%) > cbene (59.8%) > aleo (52.3%) > bras (46.3%) > eyanoo (11.2%)

2. **상성 관계의 순환 구조**:
   - bras > dgreg > cbene > aleo
   - aleo > bras (순환 구조 형성)
   - eyanoo는 모든 유닛에게 약함

3. **배치 전략**:
   - eyanoo는 반드시 후방에 배치 (승률 27.98% 차이)
   - dgreg는 전방 배치 선호 (승률 14.66% 차이)
   - 가로로 넓은 진형이 유리 (7.62% 승률 차이)

4. **팀 구성**:
   - 유닛 간 거리를 가깝게 유지하는 것이 유리
   - 중심 위치보다는 유닛 조합과 배치가 더 중요
   - 모든 유닛을 포함한 조합(aleo+bras+dgreg+eyanoo)은 오히려 약함

---

작성일: 2025-11-14
분석 완료: 문제 4 (전투 시뮬레이션) 6개 세부 문제 전부 해결
